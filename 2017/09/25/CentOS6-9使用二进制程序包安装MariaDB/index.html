<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="CentOS6.9使用二进制程序包安装MariaDB"/>




  <meta name="keywords" content="MariaDB, Linux, WangBinZhou" />










  <link rel="alternate" href="/default" title="WangBinZhou">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.6.0" />



<link rel="canonical" href="http://blog.wangbinzhou.com/2017/09/25/CentOS6-9使用二进制程序包安装MariaDB/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />






  
  <script id="baidu_analytics">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?3c05068834beb5df940fd3ca767f2305";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <script id="google_analytics">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-106402527-1', 'auto');
        ga('send', 'pageview');
  </script>


  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









    <title> CentOS6.9使用二进制程序包安装MariaDB - WangBinZhou </title>
  <link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">WangBinZhou</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">WangBinZhou</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Archives
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          CentOS6.9使用二进制程序包安装MariaDB
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-09-25
        </span>
        
          <div class="post-category">
            
              <a href="/categories/MariaDB/">MariaDB</a>
            
          </div>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#简介"><span class="toc-text">简介</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#环境说明"><span class="toc-text">环境说明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装MariaDB"><span class="toc-text">安装MariaDB</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#准备数据目录"><span class="toc-text">准备数据目录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#创建mysql的组和用户"><span class="toc-text">创建mysql的组和用户</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#解压二进制程序包并创建软连接"><span class="toc-text">解压二进制程序包并创建软连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#设置服务启动脚本"><span class="toc-text">设置服务启动脚本</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#设置数据库配置文件"><span class="toc-text">设置数据库配置文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#创建数据库系统文件"><span class="toc-text">创建数据库系统文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#创建日志文件"><span class="toc-text">创建日志文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#启动MariaDB服务"><span class="toc-text">启动MariaDB服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#设置PATH路径"><span class="toc-text">设置PATH路径</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安全初始化"><span class="toc-text">安全初始化</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>MariaDB二进制压缩包命名格式形如：mariadb-版本名-操作系统名.tar.gz，请根据您的操作系统下载正确的版本。  </p>
<h5 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h5><ul>
<li><strong>CentOS release 6.9</strong>  </li>
<li><strong>mariadb-10.2.8-linux-x86_64.tar.gz</strong>  </li>
</ul>
<p>在<a href="https://downloads.mariadb.org/mariadb/" target="_blank" rel="external">MariaDB官网</a>下载最新的稳定版MariaDB二进制程序<br><img src="http://ovnpik36u.bkt.clouddn.com/201709/mariadb/01.gif" alt="image">  </p>
<a id="more"></a>
<h4 id="安装MariaDB"><a href="#安装MariaDB" class="headerlink" title="安装MariaDB"></a>安装MariaDB</h4><h5 id="准备数据目录"><a href="#准备数据目录" class="headerlink" title="准备数据目录"></a>准备数据目录</h5><p>以/app/data为例，建议使用逻辑卷<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~]#chown mysql:mysql /app/data/</div></pre></td></tr></table></figure></p>
<h5 id="创建mysql的组和用户"><a href="#创建mysql的组和用户" class="headerlink" title="创建mysql的组和用户"></a>创建mysql的组和用户</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~]<span class="comment">#groupadd -r -g 306 mysql</span></div><div class="line">[root@MyCentOS6 ~]<span class="comment">#useradd -r -g 306 -u 306 -m -d /app/data mysql</span></div></pre></td></tr></table></figure>
<h5 id="解压二进制程序包并创建软连接"><a href="#解压二进制程序包并创建软连接" class="headerlink" title="解压二进制程序包并创建软连接"></a>解压二进制程序包并创建软连接</h5><p>解压二进制程序包到<code>/usr/local/</code>目录下<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~/downloads]<span class="comment">#tar xvf mariadb-10.2.8-linux-x86_64.tar.gz -C /usr/local/</span></div></pre></td></tr></table></figure></p>
<p>进入<code>/usr/local/</code>目录后，创建软连接<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~/downloads]<span class="comment">#cd /usr/local/</span></div><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>]<span class="comment">#ls</span></div><div class="line">bin  etc  games  include  lib  lib64  libexec  mariadb-10.2.8-linux-x86_64  sbin  share  src</div><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>]<span class="comment">#ln -sv mariadb-10.2.8-linux-x86_64/ mysql</span></div><div class="line">`mysql<span class="string">' -&gt; `mariadb-10.2.8-linux-x86_64/'</span></div></pre></td></tr></table></figure></p>
<p>修改<code>/usr/local/mysql</code>目录及目录下所有文件的属组，默认属组root<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>]<span class="comment">#chown -R root:mysql /usr/local/mysql/</span></div><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>]<span class="comment">#ll mysql/</span></div><div class="line">total 200</div><div class="line">drwxrwxr-x  2 root mysql  4096 May  3 02:05 bin</div><div class="line">-rw-r--r--  1 root mysql 17987 Aug 17 18:05 COPYING</div><div class="line">-rw-r--r--  1 root mysql 86263 Aug 17 18:05 COPYING.thirdparty</div><div class="line">-rw-r--r--  1 root mysql  2275 Aug 17 18:05 CREDITS</div><div class="line">drwxrwxr-x  3 root mysql  4096 Aug 18 04:16 data</div><div class="line">-rw-r--r--  1 root mysql  8245 Aug 17 18:05 EXCEPTIONS-CLIENT</div><div class="line">drwxrwxr-x  3 root mysql  4096 Aug 18 04:15 include</div><div class="line">-rw-r--r--  1 root mysql  8694 Aug 17 18:05 INSTALL-BINARY</div><div class="line">drwxrwxr-x  4 root mysql  4096 May  3 02:05 lib</div><div class="line">drwxrwxr-x  4 root mysql  4096 Aug 18 04:16 man</div><div class="line">drwxrwxr-x 11 root mysql  4096 Aug 18 04:16 mysql-test</div><div class="line">-rw-r--r--  1 root mysql  2371 Aug 17 18:05 README.md</div><div class="line">-rw-r--r--  1 root mysql 19510 Aug 17 18:05 README-wsrep</div><div class="line">drwxrwxr-x  2 root mysql  4096 Aug 18 04:16 scripts</div><div class="line">drwxrwxr-x 30 root mysql  4096 Aug 18 04:16 share</div><div class="line">drwxrwxr-x  4 root mysql  4096 Aug 18 04:16 sql-bench</div><div class="line">drwxrwxr-x  3 root mysql  4096 Aug 18 04:16 support-files</div></pre></td></tr></table></figure></p>
<h5 id="设置服务启动脚本"><a href="#设置服务启动脚本" class="headerlink" title="设置服务启动脚本"></a>设置服务启动脚本</h5><p>将程序包自带的启动脚本复制到<code>/etc/rc.d/init.d/</code>目录下<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#cp support-files/mysql.server /etc/rc.d/init.d/mysqld</span></div></pre></td></tr></table></figure></p>
<p>设置服务开机自启动<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#chkconfig --add mysqld </span></div><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#chkconfig --list mysqld</span></div><div class="line">mysqld          0:off   1:off   2:on    3:on    4:on    5:on    6:off</div></pre></td></tr></table></figure></p>
<h5 id="设置数据库配置文件"><a href="#设置数据库配置文件" class="headerlink" title="设置数据库配置文件"></a>设置数据库配置文件</h5><p>根据服务器配置，合理选择数据库配置文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#mkdir /etc/mysql</span></div><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#cp support-files/my-large.cnf /etc/mysql/my.cnf</span></div></pre></td></tr></table></figure></p>
<p>设置数据库配置文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#vim /etc/mysql/my.cnf </span></div><div class="line"><span class="comment"># Example MariaDB config file for large systems.</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># This is for a large system with memory = 512M where the system runs mainly</span></div><div class="line"><span class="comment"># MariaDB.</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># MariaDB programs look for option files in a set of</span></div><div class="line"><span class="comment"># locations which depend on the deployment platform.</span></div><div class="line"><span class="comment"># You can copy this option file to one of those</span></div><div class="line"><span class="comment"># locations. For information about these locations, do:</span></div><div class="line"><span class="comment"># 'my_print_defaults --help' and see what is printed under</span></div><div class="line"><span class="comment"># Default options are read from the following files in the given order:</span></div><div class="line"><span class="comment"># More information at: http://dev.mysql.com/doc/mysql/en/option-files.html</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># In this file, you can use all long options that a program supports.</span></div><div class="line"><span class="comment"># If you want to know which options a program supports, run the program</span></div><div class="line"><span class="comment"># with the "--help" option.</span></div><div class="line"></div><div class="line"><span class="comment"># The following options will be passed to all MariaDB clients</span></div><div class="line">[client]</div><div class="line"><span class="comment">#password       = your_password</span></div><div class="line">port            = 3306</div><div class="line">socket          = /tmp/mysql.sock</div><div class="line"></div><div class="line"><span class="comment"># Here follows entries for some specific programs</span></div><div class="line"></div><div class="line"><span class="comment"># The MariaDB server</span></div><div class="line">[mysqld]</div><div class="line">port            = 3306</div><div class="line">socket          = /tmp/mysql.sock</div><div class="line">skip-external-locking</div><div class="line">key_buffer_size = 256M</div><div class="line">max_allowed_packet = 1M</div><div class="line">table_open_cache = 256</div><div class="line">sort_buffer_size = 1M</div><div class="line">read_buffer_size = 1M</div><div class="line">read_rnd_buffer_size = 4M</div><div class="line">myisam_sort_buffer_size = 64M</div><div class="line">thread_cache_size = 8</div><div class="line">query_cache_size= 16M</div><div class="line"><span class="comment"># Try number of CPU's*2 for thread_concurrency</span></div><div class="line">thread_concurrency = 4      //并发线程数；数值为CPU核心数x2</div><div class="line">datadir = /app/data         //指定数据目录</div><div class="line">innodb_file_per_table = on  //将表存放为单独的文件</div><div class="line">skip_name_resolve = on      //跳过名称反解，提高连接速度</div><div class="line">....省略若干内容....</div></pre></td></tr></table></figure></p>
<p>修改或添加带注释的最后四行内容。  </p>
<h5 id="创建数据库系统文件"><a href="#创建数据库系统文件" class="headerlink" title="创建数据库系统文件"></a>创建数据库系统文件</h5><p>使用<code>/usr/local/mysql/scripts/mysql_install_db</code>脚本为数据库指定运行用户和数据存放目录，并生成原始数据<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#scripts/mysql_install_db --user=mysql --datadir=/app/data/</span></div><div class="line">Installing MariaDB/MySQL system tables <span class="keyword">in</span> <span class="string">'/app/data/'</span> ...</div><div class="line">OK</div><div class="line"></div><div class="line">To start mysqld at boot time you have to copy</div><div class="line">support-files/mysql.server to the right place <span class="keyword">for</span> your system</div><div class="line"></div><div class="line">PLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !</div><div class="line">To <span class="keyword">do</span> so, start the server, <span class="keyword">then</span> issue the following commands:</div><div class="line"></div><div class="line"><span class="string">'./bin/mysqladmin'</span> -u root password <span class="string">'new-password'</span></div><div class="line"><span class="string">'./bin/mysqladmin'</span> -u root -h MyCentOS6.9 password <span class="string">'new-password'</span></div><div class="line"></div><div class="line">Alternatively you can run:</div><div class="line"><span class="string">'./bin/mysql_secure_installation'</span></div><div class="line"></div><div class="line"><span class="built_in">which</span> will also give you the option of removing the <span class="built_in">test</span></div><div class="line">databases and anonymous user created by default.  This is</div><div class="line">strongly recommended <span class="keyword">for</span> production servers.</div><div class="line"></div><div class="line">See the MariaDB Knowledgebase at http://mariadb.com/kb or the</div><div class="line">MySQL manual <span class="keyword">for</span> more instructions.</div><div class="line"></div><div class="line">You can start the MariaDB daemon with:</div><div class="line"><span class="built_in">cd</span> <span class="string">'.'</span> ; ./bin/mysqld_safe --datadir=<span class="string">'/app/data/'</span></div><div class="line"></div><div class="line">You can <span class="built_in">test</span> the MariaDB daemon with mysql-test-run.pl</div><div class="line"><span class="built_in">cd</span> <span class="string">'./mysql-test'</span> ; perl mysql-test-run.pl</div><div class="line"></div><div class="line">Please report any problems at http://mariadb.org/jira</div><div class="line"></div><div class="line">The latest information about MariaDB is available at http://mariadb.org/.</div><div class="line">You can find additional information about the MySQL part at:</div><div class="line">http://dev.mysql.com</div><div class="line">Consider joining MariaDB<span class="string">'s strong and vibrant community:</span></div><div class="line">https://mariadb.org/get-involved/</div></pre></td></tr></table></figure></p>
<p>查看指定的数据存储目录下生成的文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 /usr/<span class="built_in">local</span>/mysql]<span class="comment">#ls /app/data/</span></div><div class="line">aria_log.00000001  aria_log_control  ib_buffer_pool  ibdata1  ib_logfile0  ib_logfile1  mysql  performance_schema  <span class="built_in">test</span></div></pre></td></tr></table></figure></p>
<h5 id="创建日志文件"><a href="#创建日志文件" class="headerlink" title="创建日志文件"></a>创建日志文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~]<span class="comment">#touch /var/log/mysqld.log</span></div><div class="line">[root@MyCentOS6 ~]<span class="comment">#chown mysql /var/log/mysqld.log</span></div></pre></td></tr></table></figure>
<h5 id="启动MariaDB服务"><a href="#启动MariaDB服务" class="headerlink" title="启动MariaDB服务"></a>启动MariaDB服务</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~]<span class="comment">#service mysqld start</span></div><div class="line">Starting MySQL.170925 16:01:58 mysqld_safe Logging to <span class="string">'/var/log/mysqld.log'</span>.</div><div class="line">170925 16:01:58 mysqld_safe Starting mysqld daemon with databases from /app/data</div><div class="line"> SUCCESS!</div></pre></td></tr></table></figure>
<p> 成功启动！  </p>
<h5 id="设置PATH路径"><a href="#设置PATH路径" class="headerlink" title="设置PATH路径"></a>设置PATH路径</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~]<span class="comment">#vim /etc/profile.d/mysql.sh</span></div><div class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/mysql/bin:<span class="variable">$PATH</span></div><div class="line">[root@MyCentOS6 ~]<span class="comment">#. /etc/profile.d/mysql.sh</span></div></pre></td></tr></table></figure>
<h4 id="安全初始化"><a href="#安全初始化" class="headerlink" title="安全初始化"></a>安全初始化</h4><p>使用MariaDB自带的脚本，对MariaDB的远程登录、root账号密码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~]<span class="comment">#mysql_secure_installation </span></div><div class="line"></div><div class="line">NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB</div><div class="line">      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!</div><div class="line"></div><div class="line">In order to <span class="built_in">log</span> into MariaDB to secure it, we<span class="string">'ll need the current</span></div><div class="line">password for the root user.  If you've just installed MariaDB, and</div><div class="line">you haven<span class="string">'t set the root password yet, the password will be blank,</span></div><div class="line">so you should just press enter here.</div><div class="line"></div><div class="line">Enter current password for root (enter for none):       //初始没有密码，所以直接敲回车</div><div class="line">OK, successfully used password, moving on...</div><div class="line"></div><div class="line">Setting the root password ensures that nobody can log into the MariaDB</div><div class="line">root user without the proper authorisation.</div><div class="line"></div><div class="line">Set root password? [Y/n] y          //设置root密码</div><div class="line">New password: </div><div class="line">Re-enter new password: </div><div class="line">Password updated successfully!</div><div class="line">Reloading privilege tables..</div><div class="line"> ... Success!</div><div class="line"></div><div class="line"></div><div class="line">By default, a MariaDB installation has an anonymous user, allowing anyone</div><div class="line">to log into MariaDB without having to have a user account created for</div><div class="line">them.  This is intended only for testing, and to make the installation</div><div class="line">go a bit smoother.  You should remove them before moving into a</div><div class="line">production environment.</div><div class="line"></div><div class="line">Remove anonymous users? [Y/n] y         //安全起见，选择移除匿名用户</div><div class="line"> ... Success!</div><div class="line"></div><div class="line">Normally, root should only be allowed to connect from 'localhost<span class="string">'.  This</span></div><div class="line">ensures that someone cannot guess at the root password from the network.</div><div class="line"></div><div class="line">Disallow root login remotely? [Y/n] y       //拒绝root用户远程登录，根据个人需要设置</div><div class="line"> ... Success!</div><div class="line"></div><div class="line">By default, MariaDB comes with a database named '<span class="built_in">test</span><span class="string">' that anyone can</span></div><div class="line">access.  This is also intended only for testing, and should be removed</div><div class="line">before moving into a production environment.</div><div class="line"></div><div class="line">Remove test database and access to it? [Y/n] n      //是否删除系统自带的测试数据库</div><div class="line"> ... skipping.</div><div class="line"></div><div class="line">Reloading the privilege tables will ensure that all changes made so far</div><div class="line">will take effect immediately.</div><div class="line"></div><div class="line">Reload privilege tables now? [Y/n] y    //是否加载特权表？选择加载可以使上面的设置立即生效</div><div class="line"> ... Success!</div><div class="line"></div><div class="line">Cleaning up...</div><div class="line"></div><div class="line">All done!  If you've completed all of the above steps, your MariaDB</div><div class="line">installation should now be secure.</div><div class="line"></div><div class="line">Thanks <span class="keyword">for</span> using MariaDB!</div></pre></td></tr></table></figure></p>
<p>使用设置的root密码登录数据库<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">[root@MyCentOS6 ~]<span class="comment">#mysql -uroot -p</span></div><div class="line">Enter password: </div><div class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</div><div class="line">Your MariaDB connection id is 16</div><div class="line">Server version: 10.2.8-MariaDB-log MariaDB Server</div><div class="line"></div><div class="line">Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.</div><div class="line"></div><div class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</div><div class="line"></div><div class="line">MariaDB [(none)]&gt; SHOW DATABASES;</div><div class="line">+--------------------+</div><div class="line">| Database           |</div><div class="line">+--------------------+</div><div class="line">| <span class="comment">#mysql50#.gnome2   |</span></div><div class="line">| information_schema |</div><div class="line">| mysql              |</div><div class="line">| performance_schema |</div><div class="line">| <span class="built_in">test</span>               |</div><div class="line">+--------------------+</div><div class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.04 sec)</div></pre></td></tr></table></figure></p>

      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="http://blog.wangbinzhou.com">WangBinZhou</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="http://blog.wangbinzhou.com/2017/09/25/CentOS6-9使用二进制程序包安装MariaDB/">http://blog.wangbinzhou.com/2017/09/25/CentOS6-9使用二进制程序包安装MariaDB/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span>
      
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/MariaDB/">MariaDB</a>
            
              <a href="/tags/Linux/">Linux</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2017/10/11/搭建私有CA配置HTTPS服务/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">搭建私有CA配置HTTPS服务</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2017/09/22/Bind的安装和配置使用详解/">
        <span class="next-text nav-default">Bind的安装和配置使用详解</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:2501228271@qq.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
      
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
    
    2017

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">WangBinZhou</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  



    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  


    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

  </body>
</html>
